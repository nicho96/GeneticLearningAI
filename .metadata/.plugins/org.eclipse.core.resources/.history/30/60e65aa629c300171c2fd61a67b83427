package ca.nicho.neuralnet;

import java.util.ArrayList;
import java.util.Collections;

public abstract class NEAT {
	
	protected int innovationCount = 0;
	protected int neuronCount = 0;
	
	protected ArrayList<NeuralNetwork> networks = new ArrayList<NeuralNetwork>();
	
	public void nextGeneration(){
		
		for(NeuralNetwork nn : this.networks){
			mutate(nn);
		}
		
		this.simulateGeneration();
		
		Collections.sort(networks);
		
	}
	
	/**
	 * Handles crossing over the entire generation
	 */
	public abstract void crossoverGeneration();
	
	/**
	 * Handles simulating the generation
	 */
	public abstract void simulateGeneration();
	
	/**
	 * Mutates a neural network.
	 * 
	 * Remember to use the innovationCount and neuronCount to identify changes to the network.
	 * New evolutions can be kept tracked of and seperated from old ones during crossover.
	 * @param nn The neural network being mutated
	 * @return true if a muta
	 */
	public abstract void mutate(NeuralNetwork nn);
	
	public abstract NeuralNetwork crossover(NeuralNetwork p1, NeuralNetwork p2);
	
	public abstract NeuralNetwork selection();
	
}
